# Настройка Permissions в Strapi

## Быстрая инструкция

После импорта коллекций нужно настроить permissions для Public role, чтобы API работал.

---

## Шаг 1: Откройте настройки Permissions

1. В Strapi Admin перейдите в **Settings** (шестеренка внизу слева)
2. Выберите **Users & Permissions plugin** (в списке плагинов)
3. Нажмите **Roles**
4. **Если видите роль "Public"** - откройте её
5. **Если НЕ видите роль "Public"** - создайте её:
   - Нажмите **"Add new role"**
   - Name: `Public`
   - Description: `Public access for API`
   - Нажмите **Save**

---

## Шаг 2: Настройте Permissions для каждой коллекции

Для каждой коллекции (Page, Service, Team Member, Client, Subscriber):

### В разделе "Permissions":

1. Найдите коллекцию (например, "Page")
2. Отметьте галочкой:
   - ✅ **Read** - получение данных через API (включает find и findOne)

3. Для **Subscriber** дополнительно отметьте:
   - ✅ **Create** - создание подписчика

**ВАЖНО:** В Strapi v4+ достаточно отметить только "Read" - это включает и find, и findOne.

---

## Шаг 3: Сохраните (ОБЯЗАТЕЛЬНО!)

1. Прокрутите страницу вниз
2. Нажмите **Save** (кнопка в правом верхнем углу или внизу страницы)
3. **Дождитесь подтверждения сохранения!**
4. Если не сохранить - будет ошибка 401 Unauthorized

**Если после сохранения все еще ошибка 401:**
- Перезапустите Strapi: `cd strapi-backend && npm run develop`

---

## Проверка

После настройки проверьте API:

```bash
curl http://localhost:1337/api/services
```

Должен вернуться JSON с данными (или пустой массив, если данных еще нет).

---

## Важно:

- Если роль "Public" не существует - создайте её (см. Шаг 1)
- Permissions нужны только для Public role (для анонимного доступа через API)
- Super Admin и другие роли уже имеют все права
- Public role нужна для работы API без авторизации
