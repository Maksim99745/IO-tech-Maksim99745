# Исправление ошибки 401 Unauthorized

## Проблема:
```
{"error":{"status":401,"name":"UnauthorizedError","message":"Missing or invalid credentials"}}
```

Это означает, что Public role не имеет доступа к API.

---

## Решение:

### Шаг 1: Проверьте роль Public

1. **Settings** → **Users & Permissions plugin** → **Roles**
2. Убедитесь, что роль **Public** существует
3. Если нет - создайте её (см. STRAPI_SETUP.md)

### Шаг 2: Настройте Permissions правильно

Откройте роль **Public** и в разделе **Permissions**:

**Для каждой коллекции (Client, Page, Service, Subscriber, Team-member):**
- ✅ Отметьте **Read** (галочка должна быть!)

**Для Subscriber дополнительно:**
- ✅ Отметьте **Create**

### Шаг 3: ВАЖНО - Сохраните!

1. Прокрутите страницу вниз
2. Нажмите **Save** (кнопка в правом верхнем углу или внизу страницы)
3. Дождитесь подтверждения сохранения

### Шаг 4: Перезапустите Strapi (если нужно)

Если после сохранения все еще ошибка 401:
```bash
cd strapi-backend
# Остановите Strapi (Ctrl+C)
npm run develop
```

---

## Проверка после исправления:

```bash
curl http://localhost:1337/api/services
```

Должен вернуться:
```json
{"data":[],"meta":{"pagination":{...}}}
```

(Пустой массив - это нормально, если данных еще нет)

---

## Альтернативная проверка:

Попробуйте другие endpoints:
```bash
curl http://localhost:1337/api/pages
curl http://localhost:1337/api/team-members
curl http://localhost:1337/api/clients
```

Все должны вернуть данные (или пустые массивы), а не ошибку 401.

---

## Если все еще не работает:

1. Убедитесь, что вы редактируете роль **Public**, а не другую
2. Проверьте, что галочки действительно отмечены (иногда нужно кликнуть дважды)
3. Убедитесь, что нажали **Save** и дождались сохранения
4. Попробуйте перезапустить Strapi
